<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>TIS Master Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 font-sans min-h-screen">
    <div id="login-page" class="fixed inset-0 bg-blue-900 flex items-center justify-center z-50">
        <div class="bg-white p-8 rounded-lg shadow-2xl w-full max-w-md">
            <h1 class="text-3xl font-bold mb-6 text-center text-blue-900">TIS System Login</h1>
            <div class="space-y-4">
                <input id="login_id" type="text" placeholder="User ID (9 Digits)" class="w-full border p-3 rounded">
                <input id="login_pass" type="password" placeholder="Password" class="w-full border p-3 rounded">
                <select id="login_branch" class="w-full border p-3 rounded">
                    <option>Obhur</option><option>Hamadina</option><option>Taif</option><option>Rawda</option>
                </select>
                <select id="login_year" class="w-full border p-3 rounded">
                    <option>2025â€“2026</option><option>2026â€“2027</option>
                </select>
                <button onclick="handleLogin()" class="w-full bg-blue-600 text-white font-bold p-3 rounded hover:bg-blue-700">LOGIN</button>
            </div>
        </div>
    </div>

    <div id="main-app" class="hidden flex">
        <div class="w-72 bg-slate-800 text-white min-h-screen flex flex-col">
            <div class="p-6 border-b border-slate-700">
                <h2 id="display_user" class="text-xl font-bold">Mohamad El Ghoche</h2> <p id="display_context" class="text-sm text-slate-400">Obhur | 2025â€“2026</p> </div>
            <nav class="flex-grow p-4 space-y-2">
                <button onclick="nav('admin')" class="w-full text-left p-3 hover:bg-slate-700 rounded">Admin Setup</button>
                <button onclick="nav('subjects')" class="w-full text-left p-3 hover:bg-slate-700 rounded">Subject Module</button>
                <button onclick="nav('teachers')" class="w-full text-left p-3 hover:bg-slate-700 rounded">Teacher Registry</button>
                <button onclick="nav('plan')" class="w-full text-left p-3 hover:bg-slate-700 rounded">School Planning</button>
                <button onclick="nav('report')" class="w-full text-left p-3 bg-green-700 rounded mt-6">Teacher Sufficiency Report</button>
            </nav>
            <div class="p-4 text-xs text-right opacity-50 border-t border-slate-700">
                Developed by Mohamad El Ghoche </div>
        </div>

        <main class="flex-grow p-10 overflow-y-auto">
            <div id="plan-view" class="view hidden">
                <h1 class="text-3xl font-bold mb-8 text-slate-800">Intelligent School Planning</h1>
                <div class="bg-white rounded-xl shadow-lg p-6">
                    <table class="w-full border-collapse">
                        <thead><tr class="bg-slate-100"><th class="p-4 border">Grade Level</th><th class="p-4 border">Current Sections</th><th class="p-4 border">Proposed Sections</th></tr></thead>
                        <tbody id="planning-table"></tbody>
                    </table>
                    <button class="mt-6 bg-blue-600 text-white px-8 py-3 rounded-lg font-bold">Save Infrastructure Plan</button>
                </div>
            </div>

            <div id="report-view" class="view hidden">
                <div class="flex justify-between items-center mb-8">
                    <h1 class="text-3xl font-bold text-green-800">ðŸ“Š Teacher Sufficiency Report</h1>
                    <div class="space-x-2">
                        <button onclick="window.print()" class="bg-slate-800 text-white px-4 py-2 rounded">Print Button</button> <button class="bg-red-700 text-white px-4 py-2 rounded">Export to PDF</button> </div>
                </div>
                <div class="bg-white p-8 rounded-xl shadow-lg border-t-8 border-green-600">
                    <table class="w-full text-left">
                        <thead><tr class="border-b-2"><th class="pb-4">Subject</th><th class="pb-4">Required Hours</th><th class="pb-4">Available Hours</th><th class="pb-4">Difference</th><th class="pb-4">Needs</th></tr></thead>
                        <tbody id="report-rows"></tbody>
                    </table>
                </div>
            </div>
        </main>
    </div>

    <script>
        function handleLogin() {
            // Requirement: ID must be numeric only [cite: 177]
            const idInput = document.getElementById('login_id').value;
            if(!idInput || idInput.length !== 9) { alert("User ID must be 9 digits"); return; }
            document.getElementById('login-page').classList.add('hidden');
            document.getElementById('main-app').classList.remove('hidden');
        }

        function nav(section) {
            document.querySelectorAll('.view').forEach(v => v.classList.add('hidden'));
            document.getElementById(section + '-view').classList.remove('hidden');
        }

        // Logic for auto-calculating rows KG1 to Grade 12 [cite: 91]
        const grades = ["KG1", "KG2", "KG3", "G1", "G2", "G3", "G4", "G5", "G6", "G7", "G8", "G9", "G10", "G11", "G12"];
        const pTable = document.getElementById('planning-table');
        grades.forEach(g => {
            pTable.innerHTML += `<tr class="hover:bg-slate-50"><td class="p-4 border font-bold">${g}</td><td class="p-4 border"><input type="number" class="w-full text-center" value="0"></td><td class="p-4 border"><input type="number" class="w-full text-center" value="0"></td></tr>`;
        });
    </script>
</body>
</html>